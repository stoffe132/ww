<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="utf-8">
<title>Dog Clicker</title>
<style>
body{margin:0;background:#111;color:#fff;font-family:Arial;text-align:center}
#count{font-size:40px;margin:20px 0}
img{width:300px;cursor:pointer;user-select:none;transition:transform 0.1s}
#upgrades{max-height:600px;overflow-y:auto;margin:10px auto;width:220px;text-align:center}
button{margin:5px;padding:10px 16px;font-size:16px;width:200px;display:block;margin-left:auto;margin-right:auto}
#resetBtn{position:fixed;top:20px;left:20px;padding:10px 16px;font-size:16px;z-index:1000;width:auto}
</style>
</head>
<body>

<h1>Dog Clicker</h1>
<div id="count">0</div>
<img id="dog" src="dog.jpg" alt="dog"><br>

<button id="resetBtn">Radera data</button>

<div id="upgrades"></div>

<audio id="clickSound" src="click.mp3"></audio>
<audio id="buySound" src="buy.mp3"></audio>

<script>
let count = parseInt(localStorage.getItem("count")) || 0;
let clickPower = parseInt(localStorage.getItem("clickPower")) || 1;
let passive = parseInt(localStorage.getItem("passive")) || 0;

const countEl = document.getElementById("count");
const dog = document.getElementById("dog");
const upgradesContainer = document.getElementById("upgrades");

const clickSound = document.getElementById("clickSound");
const buySound = document.getElementById("buySound");

let upgrades = [{name:"Klickkraft +1", cost:50, effect:()=>clickPower++, multiplier:1.15}];

let baseCost = 100;
let basePassive = 1;

for(let i=1;i<=49;i++){
  upgrades.push({
    name: `+${basePassive}/sek`,
    cost: baseCost,
    effect:()=> passive += basePassive,
    multiplier: 1.25
  });
  baseCost = Math.floor(baseCost * 2.5);
  basePassive = basePassive * 2;
}

upgrades.forEach((u, index)=>{
  let btn = document.createElement("button");
  btn.id = "upgrade"+index;
  btn.textContent = `${u.name} (kostar ${u.cost})`;
  
  btn.addEventListener("click", ()=>{
    if(count >= u.cost){
      count -= u.cost;
      u.effect();
      u.cost = Math.floor(u.cost * u.multiplier);
      btn.textContent = `${u.name} (kostar ${u.cost})`;
      buySound.play();
      updateDisplay();
      save();
    }
  });
  upgradesContainer.appendChild(btn);
});

dog.addEventListener("click", () => {
  count += clickPower;
  clickSound.play();
  dog.style.transform = "scale(1.1)";
  setTimeout(()=>dog.style.transform="scale(1)",100);
  updateDisplay();
});

setInterval(()=>{
  count += passive;
  updateDisplay();
  save();
},1000);

document.getElementById("resetBtn").addEventListener("click", ()=>{
  localStorage.clear();
  location.reload();
});

function updateDisplay(){ countEl.textContent = count; }

function save(){
  localStorage.setItem("count", count);
  localStorage.setItem("clickPower", clickPower);
  localStorage.setItem("passive", passive);
}

updateDisplay();
</script>

</body>
</html>
